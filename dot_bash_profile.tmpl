[ -f ~/.profile ] && source ~/.profile

{{ if eq .chezmoi.os "darwin" }}
export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles

JETBRAIN_CRACK_FILE="${HOME}/.config/jetbrain.vmoptions.sh"
[ -f "${JETBRAIN_CRACK_FILE}" ] && . "${JETBRAIN_CRACK_FILE}"

# macos ls配色方案
if command -v gls >/dev/null 2>&1; then
    # 如果安装了coreutils的GNU版本ls
    export LS_COLORS="di=1;34:ln=35:so=32:pi=33:ex=31:bd=1;30:cd=1;30:su=32:sg=32:tw=1;34:ow=37"
else
    # 默认BSD版本ls
    export LSCOLORS='ExfxcxdxbxAxAxcxcxExhx'
fi
{{ else if eq .chezmoi.os "linux" }}
    {{ if eq (exec "systemd-detect-virt" | trim) "none" -}}
    # 服务器 ls配色方案
    export LS_COLORS="fi=0;38;2;210;148;150:*~=0;38;2;122;112;112:bd=1;38;2;181;137;0;48;2;238;232;213:ca=0:cd=1;38;2;181;137;0;48;2;238;232;213:di=1;38;2;224;98;6:do=1;38;2;26;26;26;48;2;191;91;48:ex=1;38;2;255;75;0:ln=4;38;2;224;98;6:mh=0:mi=1;38;2;26;26;26;48;2;191;91;48:no=0;38;2;131;148;150:or=1;38;2;26;26;26;48;2;191;91;48:ow=0:pi=1;38;2;26;26;26;48;2;191;91;48:rs=0;38;2;131;148;150:sg=0;38;2;181;137;0;48;2;0;0;0:so=1;38;2;26;26;26;48;2;191;91;48:st=0:su=0;38;2;181;137;0;48;2;0;0;0:tw=0"
    {{ else -}}
    # 容器内 ls配色方案
    export LS_COLORS="fi=0;38;2;200;100;150:ln=0;38;2;249:*~=0;38;2;122;112;112:bd=0;38;2;102;217;239;48;2;51;51;51:ca=0:cd=0;38;2;249;38;114;48;2;51;51;51:di=1;38;2;102;217;239:do=0;38;2;0;0;0;48;2;249;38;114:ex=1;38;2;249;38;114;38;114:mh=0:mi=0;38;2;0;0;0;48;2;255;74;68:no=0:or=0;38;2;0;0;0;48;2;255;74;68:ow=0:pi=0;38;2;0;0;0;48;2;102;217;239:rs=0:sg=0:so=0;38;2;0;0;0;48;2;249;38;114:st=0:su=0:tw=0"
    {{ end }}
{{ end }}